<!DOCTYPE html>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<meta name="viewport" content="width=device-width, initial-scale=1">

<html>
    <head>
        <title>TigerThrift</title>
    </head>
  <body>
    {% include 'header.html' %}
    <div class="d-flex justify-content-center">
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          {% if item['photolink1'] != '' %}
          <button type="button" data-bs-target="#carouselExampleIndicators" 
            data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1">
          </button>
          {% endif %}
          {% if item['photolink1'] != '' %}
          <button type="button" data-bs-target="#carouselExampleIndicators" 
                  data-bs-slide-to="1" aria-label="Slide 2"></button>
          {% endif %}
          {% if item['photolink2'] != '' %}
          <button type="button" data-bs-target="#carouselExampleIndicators" 
                  data-bs-slide-to="2" aria-label="Slide 3">
          </button>
          {% endif %}
          {% if item['photolink3'] != '' %}
          <button type="button" data-bs-target="#carouselExampleIndicators" 
                 data-bs-slide-to="3" aria-label="Slide 4">
          </button>
          {% endif %}
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="{{item['photolink']}}" alt="First Photo" class="width:100px">
          </div>
          {% if item['photolink1'] != '' %}
          <div class="carousel-item">
            <img src="{{item['photolink1']}}" alt="Second Photo" class="width:100px">
          </div>
          {% endif %}
          {% if item['photolink2'] != '' %}
          <div class="carousel-item">
            <img src="{{item['photolink2']}}" alt="Third Photo" class="width:100px">
          </div>
          {% endif %}
          {% if item['photolink3'] != '' %}
          <div class="carousel-item">
             <img src="{{item['photolink3']}}" alt="Fourth Photo" class="width:100px">
          </div>
          {% endif %}
        </div>
        {% if item['photolink1'] != '' %}
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
        {% endif %}
      </div>
    </div>
    <div class="d-flex justify-content-center">
      <span class = "align-middle">
        <h4><strong>{{ item['prodname']}}</strong></h4>
        <strong>Size: </strong>{{ item['size'] }}<br>
        <strong>Price: </strong>{{ item['price']}}<br>
        <strong>Price Flexibility: </strong>{{ item['priceflexibility']}}<br>
        <strong>Brand: </strong>{{item['brand'] }}<br>
        <strong>Condition: </strong>{{ item['condition']}}<br>
        <strong>Type: </strong>{{item['type']}}<br>
        <strong>Subtype: </strong>{{ item['subtype']}}<br>
        <strong>Gender: </strong>{{item['gender'] }}<br>
        <strong>Color: </strong>{{ item['color']}}<br>
        <strong>Seller NetId: </strong>{{ item['sellernetid'] }}<br>
        <strong>Description: </strong>{{ item['desc'] }}<br>
      </span>
    </div>
    <div class="d-flex justify-content-center pt-2">
      <!-- only show reserve button if item is active status (not reserved, and still available) -->
      {% if item['status'] == 0 and user_info['netid'] != item['sellernetid'] %}
      <form action="reserve" method='POST'>
        <input type = "hidden" name="itemid" value="{{item['itemid']}}">
        <button class="card-text btn btn-dark">reserve item</button>
      </form>
      {% endif %}
    </div>
    <div class="ps-5">
      <form action="shop" method='GET'>
        <input type = "hidden" name="search" value="{{prev_search}}">
        <input type = "hidden" name="gender" value="{{ prev_filter['gender'] }}">
        <input type = "hidden" name="type" value="{{ prev_filter['type'] }}">
        <input type = "hidden" name="subtype" value="{{ prev_filter['subtype'] }}">
        <input type = "hidden" name="size" value="{{ prev_filter['size'] }}">
        <input type = "hidden" name="condition" value="{{ prev_filter['condition'] }}">
        <input type = "hidden" name="color" value="{{ prev_filter['color'] }}">
        <input type = "hidden" name="brand" value="{{ prev_filter['brand'] }}">
        <input type = "hidden" name="sort" value="{{ prev_sort }}">
        <button class="card-text btn btn-dark">‚Üê go back</button>
      </form>
    </div>
  </body>
</html>